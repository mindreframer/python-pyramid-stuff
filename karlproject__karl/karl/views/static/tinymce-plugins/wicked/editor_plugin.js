(function(){tinymce.create('tinymce.plugins.wicked',{init:function(a,d){var c=this;c.editor=a;c.url=d;a.addCommand('isoAddWicked',c.isoAddWicked,c);a.addCommand('isoDelWicked',c.isoDelWicked,c);a.onNodeChange.add(function(f,b,g,e){c.handleNodeChange(f,b,g,e)});a.addButton('addwickedlink',{title:'wicked.addwicked_desc',cmd:'isoAddWicked',image:c.url+'/images/addwicked.gif'});a.addButton('delwickedlink',{title:'wicked.delwicked_desc',cmd:'isoDelWicked',image:c.url+'/images/delwicked.gif'})},getInfo:function h(){return{longname:'Wicked plugin',author:'Balazs Ree <ree@greenfinity.hu>',authorurl:'',infourl:'',version:"1.1"}},re_wikilink:/^\(\(.*?\)\)$/,handleNodeChange:function i(f,b,g,e){var a=f.selection;if(!a.isCollapsed()){var d=a.getContent();if(this.re_wikilink.test(d)){b.setDisabled('addwickedlink',true);b.setDisabled('delwickedlink',false)}else{b.setDisabled('addwickedlink',false);b.setDisabled('delwickedlink',true)}}else{b.setDisabled('addwickedlink',true);b.setDisabled('delwickedlink',true)}return true},isoAddWicked:function j(f,b,g){var e=this.editor;var a=e.selection;if(!a.isCollapsed()){var d=a.getContent();a.setContent('(('+d+'))')}return true},isoDelWicked:function k(f,b,g){var e=this.editor;var a=e.selection;if(!a.isCollapsed()){var d=a.getContent();if(this.re_wikilink.test(d)){a.setContent(d.slice(2,-2))}}return true}});tinymce.PluginManager.add('wicked',tinymce.plugins.wicked);tinymce.PluginManager.requireLangPack('wicked')})();
